(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(32)},,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),u=n.n(c),l=(n(16),n(4)),o=n(5),s=n(8),i=n(6),m=n(9),p=n(1);function E(e){var t=e.id,n=e.label,a=e.input,c=e.error;return r.a.createElement("div",{className:"FormField","aria-label":t},r.a.createElement("div",{className:"FormField-field"},r.a.createElement("label",{htmlFor:t},n),a(t)),r.a.createElement("div",{className:"FormField-error"},c&&r.a.createElement("p",{className:"FormField-error-message"},c)))}n(18);function d(e){var t=e.text,n=e.onClick,a=e.type,c=e.className,u=a||"button",l=c?"".concat(c," Button"):"Button";return r.a.createElement("button",{className:l,onClick:n,type:u},t)}n(20);function f(e){var t=e.id,n=e.type,a=e.value,c=e.onChange,u=e.className,l=u?"".concat(u," Input"):"Input";return r.a.createElement("input",{id:t,className:l,type:n,value:a,onChange:c})}n(22);function v(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(p.a)(n,2),u=c[0],l=c[1],o=Object(a.useState)(""),s=Object(p.a)(o,2),i=s[0],m=s[1],v=Object(a.useState)({}),b=Object(p.a)(v,2),x=b[0],h=b[1];return r.a.createElement("div",{className:"ExpenseForm"},r.a.createElement("form",{onSubmit:function(e){var n={title:u,amount:i};(function(e){var t={};return(!e.title||e.title.length<5)&&(t.title="Title should have at least 5 characters"),e.amount&&e.amount.toString().match(/^-?\d{1,6}(\.\d{1,2})?$/)||(t.amount="Amount should be proper number in a form: '12.34'"),h(t),0===Object.keys(t).length})(n)&&(l(""),m(""),t(n)),e.preventDefault()},className:"ExpenseForm-form"},r.a.createElement(E,{id:"title",label:"Title of transaction",input:function(e){return r.a.createElement(f,{id:e,type:"text",value:u,onChange:function(e){return l(e.target.value)}})},error:x.title}),r.a.createElement(E,{id:"amount",label:"Amount (in PLN)",input:function(e){return r.a.createElement(f,{id:e,type:"text",value:i,onChange:function(e){return m(e.target.value)}})},error:x.amount}),r.a.createElement(d,{className:"ExpenseForm-submit",type:"submit",text:"Add"})))}n(24);function b(e){var t,n=e.expensesList,c=e.expenseRemove,u=e.currency,l=Object(a.useState)(),o=Object(p.a)(l,2),s=o[0],i=o[1],m=Object(a.useState)(),E=Object(p.a)(m,2),f=E[0],v=E[1];function b(e){return s===e?f?"&uarr;":"&darr;":"&uarr;&darr;"}function x(e){return r.a.createElement("button",{className:"ExpensesTable-sort",dangerouslySetInnerHTML:{__html:b(e)},onClick:function(t){return function(e){i(e),v(f?0:1)}(e)}})}return r.a.createElement("div",{className:"ExpensesTable"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Title",x("title")),r.a.createElement("td",{className:"ExpensesTable-price"},"Amount (PLN)",x("amount")),r.a.createElement("td",{className:"ExpensesTable-price"},"Amount (",u,")",x("amount")),r.a.createElement("td",{className:"ExpensesTable-actions"},"Options"))),r.a.createElement("tbody",null,(t=n,t.sort(function(e,t){return"title"===s?f?e.title.toLowerCase()<t.title.toLowerCase():e.title.toLowerCase()>t.title.toLowerCase():"amount"===s?f?e.amount<t.amount:e.amount>t.amount:0})).map(function(e,t){return r.a.createElement("tr",{key:e.idx},r.a.createElement("td",null,e.title),r.a.createElement("td",{className:"ExpensesTable-price"},e.amount.toFixed(2)),r.a.createElement("td",{className:"ExpensesTable-price"},e.amountCurrency.toFixed(2)),r.a.createElement("td",{className:"ExpensesTable-actions"},r.a.createElement(d,{text:"Delete",onClick:function(t){c(e.idx)}})))}))))}var x=r.a.createContext();function h(e){var t=e.exchangeRates,n=e.currency,c=e.children,u=Object(a.useState)([]),l=Object(p.a)(u,2),o=l[0],s=l[1];Object(a.useEffect)(function(){s([{title:"New book in Rust",amount:100},{title:"Snacks for a football match",amount:20},{title:"Bus ticket",amount:2.55},{title:"Steak",amount:99.99}])},[]);var i=Object(a.useMemo)(function(){return function(e,t,n){var a=e.map(function(e,a){return{idx:a,title:e.title,amount:parseFloat(e.amount),amountCurrency:parseFloat(e.amount)/t[n]}});return{expenses:a,sumPln:a.reduce(function(e,t){return e+t.amount},0),sumCurrency:a.reduce(function(e,t){return e+t.amountCurrency},0)}}(o,t,n)},[o,t,n]);return r.a.createElement(x.Provider,{value:{expensesList:i,expenseAdd:function(e){var t=o.slice();t.push(e),s(t)},expenseRemove:function(e){var t=o.slice();t.splice(e,1),s(t)}}},c)}var y=n(7),N=r.a.createContext();function g(e){var t=e.children,n=Object(a.useState)({EUR:4.382,USD:3.771}),c=Object(p.a)(n,2),u=c[0],l=c[1],o=Object(a.useState)("EUR"),s=Object(p.a)(o,2),i=s[0],m=s[1];return r.a.createElement(N.Provider,{value:{exchangeRates:u,setExchangeRate:function(e,t){l(Object.assign({},u,Object(y.a)({},e,t)))},currency:i,setCurrency:m}},t)}n(26);function C(){return r.a.createElement(N.Consumer,null,function(e){var t=e.currency;return r.a.createElement(x.Consumer,null,function(e){var n=e.expensesList,a=e.expenseAdd,c=e.expenseRemove;return r.a.createElement("div",{className:"ExpensesList"},r.a.createElement(v,{onSubmit:a}),r.a.createElement(b,{expensesList:n.expenses,expenseRemove:c,currency:t}),r.a.createElement("div",{className:"ExpensesList-sum"},"Sum: ",n.sumPln.toFixed(2)," PLN (",n.sumCurrency.toFixed(2)," ",t,")"))})})}n(28);function O(){return r.a.createElement(N.Consumer,null,function(e){var t=e.exchangeRates,n=e.setExchangeRate,a=e.currency,c=e.setCurrency;return r.a.createElement("div",{className:"ExchangeRate"},"1",r.a.createElement("select",{value:a,onChange:function(e){return c(e.target.value)}},Object.keys(t).map(function(e){return r.a.createElement("option",{key:e,value:e},e)})),"=",r.a.createElement(f,{type:"text",value:t[a],onChange:function(e){return n(a,e.target.value)}}),"PLN")})}n(30);var j=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(g,null,r.a.createElement(N.Consumer,null,function(e){var t=e.exchangeRates,n=e.currency;return r.a.createElement(h,{exchangeRates:t,currency:n},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"App-header-content"},r.a.createElement("h1",null,"List of expenses"),r.a.createElement(O,null))),r.a.createElement("div",{id:"App-content"},r.a.createElement(C,null))))}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,2,1]]]);
//# sourceMappingURL=main.2c510e2e.chunk.js.map